{
  "variables": {
    "project_id": "{{ env `PACKER_GCLOUD_PROJECT` }}",
    "account_file_path": "{{ env `GOOGLE_APPLICATION_CREDENTIALS` }}",
    "build_env": "{{ env `BUILD_ENV` }}"
  },
  "builders": [
    {
      "type": "googlecompute",
      "project_id": "{{user `project_id`}}",
      "account_file": "{{user `account_file_path`}}",
      "source_image_family": "centos-7",
      "zone": "asia-northeast1-a",
      "ssh_username": "packer",
      "image_family": "gmo-am-akane-manage-{{user `build_env`}}",
      "image_name": "gmo-am-akane-manage-{{user `build_env`}}-{{timestamp}}",
      "instance_name": "gmo-am-akane-manage-{{user `build_env`}}",
      "machine_type": "n1-standard-1",
      "disk_name": "gmo-am-akane-manage-{{user `build_env`}}",
      "disk_size": "10",
      "disk_type": "pd-ssd",
      "tags": "gmo-am-akane-manage-{{user `build_env`}}"
    }
  ],
  "provisioners": [
    {
        "type": "shell",
        "inline": [
            "sudo mkdir /etc/sample"
        ]
    },
    {
      "type": "file",
      "source": "./sample/",
      "destination": "/etc/sample/"
    }
  ]
}
